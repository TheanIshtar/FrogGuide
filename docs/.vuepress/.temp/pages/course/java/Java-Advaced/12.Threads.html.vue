<template><div><h1 id="thread-muc-luc" tabindex="-1"><a class="header-anchor" href="#thread-muc-luc" aria-hidden="true">#</a> Thread--------------------------------------------<a href="https://github.com/Zenfection/Java" target="_blank" rel="noopener noreferrer">M·ª•c l·ª•c<ExternalLinkIcon/></a></h1>
<h2 id="_1-gioi-thieu" tabindex="-1"><a class="header-anchor" href="#_1-gioi-thieu" aria-hidden="true">#</a> 1. Gi·ªõi thi·ªáu</h2>
<p><code v-pre>Threads</code> (<em>Lu·ªìng</em>) cho ph√©p ho·∫°t ƒë·ªông hi·ªáu qu·∫£ h∆°n b·∫±ng c√°ch ch·∫°y nhi·ªÅu th·ª© c√πng l√∫c</p>
<blockquote>
<p>üí° S·ª≠ d·ª•ng ƒë·ªÉ th·ª±c thi c√°c <strong>t√°c v·ª• ph·ª©c t·∫°p</strong> trong n·ªÅn m√† kh√¥ng l√†m gi√°n ƒëo·∫°n ch∆∞∆°ng tr√¨nh ch√≠nh</p>
</blockquote>
<p>C√≥ 2 c√°ch ƒë·ªÉ t·∫°o <code v-pre>Thread</code> :</p>
<ul>
<li>
<p>S·ª≠ d·ª•ng b·∫±ng c√°ch k·∫ø th·ª´a l·ªõp <code v-pre>Thread</code> v√† ƒë√® ph∆∞∆°ng th·ª©c <code v-pre>run()</code> nh∆∞ sau:</p>
<div class="language-java line-numbers-mode" data-ext="java"><pre v-pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Main</span> <span class="token keyword">extends</span> <span class="token class-name">Thread</span><span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">run</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"Code ƒëang ch·∫°y lu·ªìng run"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li>
<li>
<p>C√°ch kh√°c ‚û® B·ªï sung t·ª´ interface <code v-pre>Runnable</code> nh∆∞ sau :</p>
<div class="language-java line-numbers-mode" data-ext="java"><pre v-pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Main</span> <span class="token keyword">implements</span> <span class="token class-name">Runnable</span><span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">run</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"Code ƒëang ch·∫°y lu·ªìng run"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li>
</ul>
<hr>
<h2 id="_2-su-dung" tabindex="-1"><a class="header-anchor" href="#_2-su-dung" aria-hidden="true">#</a> 2. S·ª≠ d·ª•ng</h2>
<table>
<thead>
<tr>
<th>Ph∆∞∆°ng th·ª©c</th>
<th>m√¥ t·∫£</th>
</tr>
</thead>
<tbody>
<tr>
<td>run()</td>
<td></td>
</tr>
<tr>
<td>start()</td>
<td></td>
</tr>
<tr>
<td></td>
<td></td>
</tr>
</tbody>
</table>
<ul>
<li>N·∫øu b·∫°n s·ª≠ d·ª•ng c√°ch k·∫ø th·ª´a l·ªõp <code v-pre>Thread</code>, ta c√≥ th·ªÉ ch·∫°y lu·ªìng b·∫±ng c√°ch s·ª≠ d·ª•ng ph∆∞∆°ng th·ª©c <code v-pre>start()</code> :</li>
</ul>
<div class="language-java line-numbers-mode" data-ext="java"><pre v-pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Main</span> <span class="token keyword">extends</span> <span class="token class-name">Thread</span> <span class="token punctuation">{</span>
  <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">Main</span> thread <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    thread<span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"Code n√†y n·∫±m b√™n ngo√†i lu·ªìng"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">run</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"Code n√†y ƒëang ch·∫°y trong lu·ªìng"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token comment">/* Code n√†y ƒëang ch·∫°y trong lu·ªìng
   Code n√†y n·∫±m b√™n ngo√†i lu·ªìng    */</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul>
<li>
<p>N·∫øu s·ª≠ d·ª•ng b·ªï sung interface <code v-pre>Runnable</code>, th√¨ ta ph·∫£i t·∫°o ƒë·ªëi t∆∞·ª£ng <code v-pre>Thread</code> v√† g·ªçi ph∆∞∆°ng th·ª©c <code v-pre>start()</code> nh∆∞ sau :</p>
<div class="language-java line-numbers-mode" data-ext="java"><pre v-pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Main</span> <span class="token keyword">implements</span> <span class="token class-name">Runnable</span> <span class="token punctuation">{</span>
  <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">Main</span> obj <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">Thread</span> thread <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Thread</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">;</span>
    thread<span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"Code n√†y n·∫±m b√™n ngo√†i lu·ªìng"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">run</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"Code n√†y ƒëang ch·∫°y trong lu·ªìng"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token comment">/* Code n√†y ƒëang ch·∫°y trong lu·ªìng
   Code n√†y n·∫±m b√™n ngo√†i lu·ªìng    */</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li>
</ul>
<h3 id="vay-su-khac-nhau-giua-2-cach-tren-la-gi" tabindex="-1"><a class="header-anchor" href="#vay-su-khac-nhau-giua-2-cach-tren-la-gi" aria-hidden="true">#</a> <img src="https://raw.githubusercontent.com/Zenfection/Image/master/2021/02/02-14-14-12-Language Learning.png" alt="Language Learningpng"> V·∫≠y s·ª± kh√°c nhau gi·ªØa 2 c√°ch tr√™n l√† g√¨ ?</h3>
<details>
<summary><b><img src="https://raw.githubusercontent.com/Zenfection/Image/master/2021/02/01-13-25-05-Questions And Answers.png"> Tr·∫£ l·ªùi</summary>
<br>
<p>ƒêi·ªÉm ch√≠nh kh√°c nhau l√† khi b·∫°n d√πng <strong>k·∫ø th·ª´a</strong> l·ªõp <code v-pre>Thread</code>, b·∫°n kh√¥ng th·ªÉ k·∫ø th·ª´a l·ªõp n√†o kh√°c, c√≤n b·ªï sung interface <code v-pre>Runnable</code> th√¨ c√≥ th·ªÉ.</p>
</details>
<h3 id="van-ƒëe-ƒëong-thoi" tabindex="-1"><a class="header-anchor" href="#van-ƒëe-ƒëong-thoi" aria-hidden="true">#</a> <img src="https://raw.githubusercontent.com/Zenfection/Image/master/2021/02/08-17-36-14-Professor Male.png" alt="Professor Male.png"> V·∫•n ƒë·ªÅ ƒê·ªìng th·ªùi !!!</h3>
<p>Nh∆∞ b·∫°n ƒë√£ bi·∫øt th√¨ <code v-pre>Thread</code> s·∫Ω ch·∫°y song song v·ªõi ch∆∞∆°ng tr√¨nh, v·∫≠y th√¨ l√†m sao n√≥ c√≥ th·ªÉ bi·∫øt th·ª© t·ª± ch·∫°y c·ªßa t·ª´ng <code v-pre>Thread</code>, v·∫•n ƒë·ªÅ ƒë√≥ g·ªçi l√†</p>
<blockquote>
<p>üî• V√≠ d·ª• khi ch∆∞∆°ng tr√¨nh <code v-pre>threads</code> v√† <code v-pre>main</code> c√πng ƒë·ªçc v√† ghi bi·∫øn <code v-pre>x</code> th√¨ s·∫Ω x·∫£y ra l·ªói kh√¥ng mong mu·ªën v√¨ th·ª© t·ª± th·ª±c hi·ªán.</p>
</blockquote>
<div class="language-java line-numbers-mode" data-ext="java"><pre v-pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Main</span> <span class="token keyword">extends</span> <span class="token class-name">Thread</span><span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">int</span> amount <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token class-name">Main</span> thread <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        thread<span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>amount<span class="token punctuation">)</span><span class="token punctuation">;</span>
        amount<span class="token operator">++</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>amount<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">run</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        amount<span class="token operator">++</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token comment">// 0 2</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote>
<p>Nh∆∞ c√°c b·∫°n ƒë√£ th·∫•y, th√¨ l·ªói v√† khi c·ªë ch·∫°y n√≥ s·∫Ω kh√¥ng cho ta k·∫øt qu·∫£ mong mu·ªën  !!!</p>
</blockquote>
<p>ƒê·ªÉ gi·∫£i quy·∫øt v·∫•n ƒë·ªÅ n√†y, c√°ch t·ªët nh·∫•t l√† b·∫°n h·∫°n ch·∫ø s·ª≠ d·ª•ng <code v-pre>attribute</code> chung cho h√†m <code v-pre>thread</code> v√† <code v-pre>main</code>. N·∫øu b·∫Øt bu·ªôc ph·∫£i s·ª≠ d·ª•ng, h√£y s·ª≠ d·ª•ng ph∆∞∆°ng th·ª©c <code v-pre>isAlive()</code> nh∆∞ sau :</p>
<div class="language-java line-numbers-mode" data-ext="java"><pre v-pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Main</span> <span class="token keyword">extends</span> <span class="token class-name">Thread</span><span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">int</span> amount <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token class-name">Main</span> thread <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        thread<span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">while</span><span class="token punctuation">(</span>thread<span class="token punctuation">.</span><span class="token function">isAlive</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"ƒê·ª£i x·ª≠ l√Ω xong ƒë√£"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"Amount = "</span> <span class="token operator">+</span> amount<span class="token punctuation">)</span><span class="token punctuation">;</span>
        amount<span class="token operator">++</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"Amount = "</span> <span class="token operator">+</span> amount<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">run</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        amount<span class="token operator">++</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token comment">// ƒê·ª£i x·ª≠ l√Ω xong ƒë√£</span>
<span class="token comment">// Amount = 1;</span>
<span class="token comment">// Amount = 2;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></div></template>


